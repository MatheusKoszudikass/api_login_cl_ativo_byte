deployment:
  task:
    # Definindo o caminho do deploy
    - export DEPLOYPATH=/home/api.cliente.ativobyte.com.br/

    # Copiar arquivos de configuração
    - /bin/cp -i .env $DEPLOYPATH
    - /bin/cp -i .htaccess $DEPLOYPATH
    - /bin/cp -i .project $DEPLOYPATH
    - /bin/cp -i .composer.json $DEPLOYPATH
    - /bin/cp -i .composer.lock $DEPLOYPATH
    - /bin/cp -i .symfony.lock $DEPLOYPATH

    # Copiar diretórios
    - /bin/cp -i -R bin $DEPLOYPATH
    - /bin/cp -i -R config $DEPLOYPATH
    - /bin/cp -i -R migrations $DEPLOYPATH
    - /bin/cp -i -R public $DEPLOYPATH
    - /bin/cp -i -R src $DEPLOYPATH
    - /bin/cp -i -R var $DEPLOYPATH

    # Atualizar dependências do Composer (caso necessário)
    - cd $DEPLOYPATH && /usr/local/bin/composer install --no-dev --optimize-autoloader

    # Ajustar permissões de arquivos, se necessário
    - chown -R user:user $DEPLOYPATH
    - chmod -R 755 $DEPLOYPATH

    # Outras tarefas específicas de deploy podem ser adicionadas aqui
    # - cd $DEPLOYPATH && bin/console cache:clear --env=prod
